<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Goat clicker</title>
    <link href="Content/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="Content/css/styles.css">
    <link rel="stylesheet" href="Content/css/queries.css">
    <link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
    <!-- Fonts -->
    <link href='http://fonts.googleapis.com/css?family=Sintony:400,700' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,600,700' rel='stylesheet' type='text/css'>
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

</head>
<body>
    <header class="clearfix" id="accueil">
        <div class="logo col-md-3">
            <h2 class="logo-text">GOAT CLICKER</h2>
        </div>
        <nav class="clearfix">
            <ul class="clearfix">
                <li><a href="#accueil" class="active">Accueil</a></li>
            </ul>
        </nav>
        <div class="pullcontainer">
            <a href="#" id="pull"><i class="fa fa-bars fa-2x"></i></a>
        </div>
    </header>

    <div class="h2-wrap" id="titre">
        <div class="container">
            <div class="row">
                <div class="col-md-7">
                    <h2 class="standard-block">LET'S GOAT SOME GOATS</h2>
                </div>
                <div class="col-md-5">
                    <p class="standard-block">GOAT$$ : <label id="lblNbClick"></label></p>
                </div>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-md-7 carousel">
                <img src="Content/img/maingoat.jpg" style="width: 300px;" id="mainGoat" alt="main goat" />
                <p id="scoringclick"></p>
                <br />                

                <br />
                <button id="lancerAutoProduction">[CHEAT] Auto production</button> | <button id="btnReinit">Reinitialiser</button>

            </div>
            <div class="col-md-5">
                <div class="h2-wrap">
                    <h2 class="standard-block">GOATS STORE</h2>
                </div>
                <div class="competence" id="goatclickproducer">GOAT CLICK PRODUCER
                    <br/>
                    COST : <label id="goatclickproducer_cost"></label> GOAT$$</div>
                <div class="competence">GOAT CLICK PRODUCER</div>
                <div class="competence">GOAT CLICK PRODUCER</div>
                <div class="competence">GOAT CLICK PRODUCER</div>
                <div class="competence">GOAT CLICK PRODUCER</div>
                <div class="competence">GOAT CLICK PRODUCER</div>
                <div class="competence">GOAT CLICK PRODUCER</div>
                <div class="competence">GOAT CLICK PRODUCER</div>
                <div class="competence">GOAT CLICK PRODUCER</div>
            </div>
        </div>
    </div>



    <footer>
        <div class="container">
            <div class="row">
                <div class="col-md-3">
                    <h2>GOAT CLICKER</h2>

                </div>
                <div class="col-md-4">
                    <p>Ce jeu a été développé par Yves Philippot, Paul Fournier et Damien Laporte</p>
                </div>
                <div class="col-md-3">
                    <p>On est cool</p>
                </div>
                <div class="col-md-2">
                    <ul class="footer-links">
                        <li><a href="#accueil">Accueil</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>

    <script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
    <script src="Scripts/bootstrap.min.js"></script>
    <script type="text/javascript" src="Scripts/sound.js"></script>
    <script type="text/javascript" src="Scripts/banque.js"></script>
    <script type="text/javascript" src="Scripts/competence.js"></script>
    <script type="text/javascript" src="Scripts/joueur.js"></script>
    <script type="text/javascript" src="Scripts/magasins.js"></script>
    <script type="text/javascript" src="Scripts/si.js"></script>
    <script type="text/javascript">
        $(function () {

            var retrievedObject = localStorage.getItem('nbClick');
            
            // Corresponds à la monnaie finalement (devra être déduite lors d'un achat)
            var nbClick = 0;
            var production_manuelle = 1;
            var production_autmatique = 0;


            var mainGoat = $("#mainGoat");
            var lblNbClick = $("#lblNbClick");
            var goatclickproducer_cost = $("#goatclickproducer_cost");
            var lancerAutoProduction = $("#lancerAutoProduction");

            if (retrievedObject != null) {
                lblNbClick.text(retrievedObject);
                nbClick = retrievedObject;
            }

            var interval;
            lancerAutoProduction.click(function(){
                interval = setInterval(function(){ mainGoat.trigger("click");}, 1000);
            }); 

            function calculCost(niveauProduit, nbDejaAchete)
            {
                // TODO : Mieux ajuster le coût réel d'une compétence
                return niveauProduit * nbDejaAchete;
            }

            lblNbClick.text(nbClick);

            mainGoat.click(function () {
                startSound("Sounds/chevre1-3.mp3");
                mainGoat.animate({
                    height : "-=20",
                    width : "-=20"
                }, 100);

                mainGoat.animate({
                    height : "+=20",
                    width : "+=20"
                }, 100);

            

                nbClick++;
                lblNbClick.text(nbClick);
                localStorage.setItem('nbClick', nbClick);                

                var label = $("<label>").attr('id', "lblplus");
                label.attr('class', 'plusone');             
      

                label.insertAfter('#scoringclick');
                label.text("+" + production_manuelle);
                label.animate({
                    opacity: 0,
                    top: "-=30"
                }, "slow", function () {
                    label.remove();
                });
              
            });

            $("#btnReinit").click(function () {
                clearInterval(interval);
                localStorage.removeItem("nbClick");
                nbClick = 0;
                lblNbClick.text(nbClick);
            });
        });


    </script>
</body>
</html>
